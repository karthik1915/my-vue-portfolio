<template>
    <div id="floating-content" class="content-1">
        <svg width="46" height="25" viewBox="0 0 46 25" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M35.188 20.1203C34.4355 20.1203 33.8819 20.0788 33.3424 20.1341C29.0123 20.5765 24.6964 21.0741 20.3664 21.4888C15.1845 21.9864 10.0168 22.4287 4.83493 22.8572C3.91213 22.9402 2.94675 22.8849 2.02395 22.7466C1.3141 22.6499 0.916577 22.097 0.803001 21.392C0.774608 21.2123 0.774618 21.0326 0.760421 20.8391C0.504876 16.4297 0.220927 12.0202 0.02217 7.61074C-0.0488146 5.86908 0.0647609 4.1136 0.164139 2.37194C0.192533 1.83285 0.377093 1.29376 0.590047 0.796141C0.873986 0.160296 1.56965 -0.102336 2.23691 0.0358914C2.88996 0.174119 3.1597 0.630267 3.31587 1.18318C3.38685 1.44581 3.38685 1.73609 3.34426 1.99872C2.70539 5.78615 3.52881 9.53211 3.71337 13.2919C3.81275 15.2132 4.0683 17.1208 4.28125 19.2357C4.92011 19.291 5.54479 19.4292 6.15526 19.3739C10.4853 18.9869 14.8154 18.586 19.1454 18.1575C23.944 17.6737 28.7426 17.1761 33.5269 16.6508C35.0318 16.4849 36.5083 16.2223 38.0132 16.0011C38.0558 15.9873 38.0984 15.8906 38.2403 15.6556C37.4169 15.2409 36.5935 14.8677 35.8127 14.4115C34.9182 13.8863 34.0238 13.3748 33.243 12.7252C32.4196 12.0478 32.2918 10.9697 32.8171 10.2371C33.3424 9.49063 34.4497 9.22801 35.33 9.93297C37.8996 11.9787 40.9803 12.8357 44.0611 13.7342C45.0265 14.0107 45.8925 14.4253 45.9918 15.4897C46.0912 16.5955 45.2678 17.0931 44.2882 17.3834C42.4 17.9363 40.9945 19.1665 39.7736 20.6041C38.936 21.5993 38.1551 22.6499 37.3317 23.6451C36.7922 24.2948 36.1818 24.8615 35.259 24.9859C34.4497 25.0965 33.6831 24.5436 33.7399 23.7557C33.7825 23.2166 33.9245 22.6775 34.1374 22.1799C34.3788 21.5441 34.7621 20.922 35.188 20.1203Z"
                fill="var(--color-primary)" />
        </svg>

    </div>
    <div id="floating-content" class="content-2">
        <svg width="86" height="47" viewBox="0 0 86 47" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M72.5976 12.3874C71.1578 13.6562 70.2845 14.549 69.2932 15.2774C68.3727 15.9588 67.0274 15.8883 66.2013 15.2304C65.3753 14.596 65.1392 13.7267 65.1864 12.7399C65.1864 12.5754 65.1864 12.4109 65.2573 12.27C67.1218 7.50025 69.7181 3.27093 74.3914 0.733353C76.964 -0.652917 78.8522 -0.0655262 80.3628 2.42506C80.6932 2.96547 80.9056 3.55286 81.1652 4.11677C82.4869 6.95979 83.7851 9.80287 85.1304 12.6224C86.1925 14.878 86.2161 14.8545 85.5553 17.5095C82.1565 18.4259 81.3304 14.972 79.2298 13.6327C77.9317 14.2906 78.1913 15.5594 77.8845 16.4993C76.728 20.0707 75.6895 23.689 74.6038 27.2839C73.2348 31.8892 70.0721 34.6382 65.5405 36.0245C59.5455 37.8572 53.7393 37.6927 48.2399 34.4502C41.9617 30.7614 35.0226 28.6232 28.2251 26.2031C22.0649 23.9945 16.3768 25.5687 11.1842 28.9756C6.86501 31.8187 4.90602 36.2595 4.45757 41.3346C4.31596 42.8854 4.31598 44.4596 4.12716 45.9869C4.00915 46.8797 2.45135 47.3496 1.83769 46.6917C1.22403 46.0103 0.492365 45.2115 0.374354 44.3891C0.0911255 42.3919 -0.1685 40.3008 0.13833 38.3271C0.94081 33.0405 3.27748 28.4118 7.66751 25.1928C14.3706 20.3056 21.7817 18.4259 29.9245 21.034C36.958 23.2896 44.0151 25.5217 50.435 29.2811C54.4946 31.6542 58.6958 31.9597 63.1802 30.8084C66.3193 29.986 68.5379 28.2943 69.4584 25.0988C70.4969 21.4804 71.5827 17.8855 72.6212 14.2906C72.7864 13.9146 72.6448 13.4448 72.5976 12.3874Z"
                fill="var(--color-primary)" />
        </svg>


    </div>
    <div id="floating-content" class="content-3">
        <svg width="73" height="44" viewBox="0 0 73 44" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M64.8861 36.4689C65.4756 33.9504 64.4381 32.1922 62.7638 30.9329C61.2782 29.8162 59.5803 28.8659 57.8589 28.2006C54.3454 26.8463 50.6903 25.9434 46.658 25.587C46.4458 26.4661 46.2336 27.3452 46.0214 28.2244C45.479 30.6953 45.1488 33.2376 44.3471 35.5898C42.9087 39.7477 39.8667 42.3613 35.6693 43.5968C31.3775 44.856 27.3924 43.1216 25.4588 39.0112C22.2753 32.216 24.3976 26.2761 29.6797 22.7834C31.2361 21.7617 33.0283 21.0727 34.7968 20.4312C36.2588 19.8847 37.8152 19.6472 39.6545 19.172C39.4423 18.2929 39.4186 17.3424 38.9706 16.6534C37.9566 15.0615 36.9898 13.3033 35.575 12.1629C27.6282 5.7478 18.691 3.30054 8.66911 6.1992C6.42892 6.84071 4.23597 7.71982 2.60889 9.62059C2.32591 9.95322 1.38261 9.95322 0.88741 9.76314C0.0620777 9.43051 -0.220893 8.45638 0.179982 7.79111C0.91099 6.62689 1.75995 5.41516 2.82109 4.58357C7.23072 1.16219 12.3949 -0.192122 17.8657 0.0217138C23.4308 0.23555 28.6894 1.77995 33.6178 4.44102C38.8056 7.24465 42.6492 11.2125 44.63 16.891C44.8894 17.6276 45.2196 18.3641 45.644 19.4333C52.2939 20.9064 59.3446 21.8093 65.8293 25.9434C65.9944 24.3278 66.0651 23.1398 66.2301 21.9756C66.3716 20.9302 67.0319 20.2887 68.0223 20.0035C68.9655 19.7422 70.2389 20.455 70.6162 21.5479C70.9699 22.5933 71.3 23.6625 71.4179 24.7555C71.9603 29.4599 72.4555 34.188 72.9507 38.9162C72.9979 39.3914 73.0215 39.8665 72.9743 40.3417C72.8092 42.1237 71.5595 43.3592 69.8145 43.0978C64.6974 42.3138 59.604 41.3871 54.5105 40.508C54.0625 40.4368 53.4729 40.318 53.2135 40.0091C52.7419 39.4389 52.2467 38.7499 52.1995 38.0608C52.1523 37.6332 52.8126 36.8728 53.3078 36.7303C54.4869 36.3501 55.7367 36.0888 56.9629 36.0888C58.6843 36.0888 60.4057 36.3739 62.1271 36.4927C62.9996 36.5164 63.9193 36.4689 64.8861 36.4689ZM40.7864 25.4682C36.9662 25.1831 34.2544 25.8721 32.0378 27.5353C29.043 29.7925 28.2413 33.4277 29.9391 36.8253C30.8116 38.5835 32.2973 39.2963 34.2073 38.8449C36.8484 38.2271 38.664 36.5877 39.678 34.093C40.7863 31.4319 41.1165 28.652 40.7864 25.4682Z"
                fill="var(--color-primary)" />
        </svg>
        <img class="size-[160px]" src="/instagram-link-qr.png" alt="instagram link qr code" />

    </div>
</template>

<style scoped>
#floating-content {
    @apply absolute rounded-2xl;
}

.content-1 {
    @apply hidden md:block w-52 h-28 top-[20px] left-[20px] bg-primary
}

.content-1>svg {
    @apply absolute bottom-0 right-0 -translate-x-full translate-y-full
}

.content-2 {
    @apply hidden md:block w-52 h-28 bottom-[20px] left-[60px] bg-primary
}

.content-2>svg {
    @apply absolute top-0 -translate-y-full translate-x-full
}

.content-3 {
    @apply hidden md:block right-[25px] bottom-[150px] bg-primary
}

.content-3>svg {
    @apply rotate-180 absolute -translate-x-full;
}
</style>
<script setup lang="ts">
import { onMounted } from "vue";
import gsap from "gsap";
import { Sine } from "gsap";

onMounted(() => {
    const floaters = gsap.utils.toArray<gsap.TweenTarget>('#floating-content');

    floaters.forEach(floater => {
        gsap.set(floater, {
            x: randomX(-1),
            y: randomX(1),
            duration: 4,
        });

        moveX(floater, 1);
        moveY(floater, -1);
    });
})

const randomX = random(0.9, 2.2);
const randomY = random(0.9, 2.2);

function random(min: number, max: number) {
    const delta = max - min;
    return (direction = 1) => (min + delta * Math.random()) * direction;
}

function moveX(target: gsap.TweenTarget, direction: number) {

    gsap.to(target, {
        x: randomX(direction),
        ease: Sine.easeInOut,
        duration: 1,
        onComplete: moveX,
        onCompleteParams: [target, direction * -1]
    });
}


function moveY(target: gsap.TweenTarget, direction: number) {

    gsap.to(target, {
        y: randomY(direction),
        ease: Sine.easeInOut,
        duration: 1,
        onComplete: moveY,
        onCompleteParams: [target, direction * -1]
    });
}


</script>